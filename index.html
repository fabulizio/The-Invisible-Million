<!DOCTYPE html>
<html>
<head>
  <title>Donate to Color a Pixel</title>
  <style>
    #grid {
      display: grid;
      grid-template-columns: repeat(100, 10px); /* only show 100x100 for perf */
      grid-template-rows: repeat(100, 10px);
    }
    .square {
      width: 10px;
      height: 10px;
      background-color: #ccc;
      border: 1px solid #eee;
    }
  </style>
</head>
<body>
  <h1>Pixel Grid (1000x1000)</h1>
  <button onclick="donate()">Donate & Color</button>
  <div id="grid"></div>

  <script>
    const grid = document.getElementById("grid");
    const SIZE = 1000;

    // Load painted squares
    fetch('https://your-replit-url.repl.co/painted')
      .then(res => res.json())
      .then(data => {
        for (let i = 0; i < 10000; i++) {
          const div = document.createElement("div");
          div.className = "square";
          const x = i % 100;
          const y = Math.floor(i / 100);
          const key = `${x},${y}`;
          if (data[key]) {
            div.style.backgroundColor = data[key];
          }
          div.onclick = () => colorSquare(x, y);
          grid.appendChild(div);
        }
      });

    function donate() {
      // Simulated payment + prompt (replace with real PayPal/Stripe)
      const color = prompt("Enter a color (e.g. red or #ff0000):");
      const x = prompt("Enter X coordinate (0-999):");
      const y = prompt("Enter Y coordinate (0-999):");
      fetch('https://your-replit-url.repl.co/paint', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ x, y, color })
      }).then(() => location.reload());
    }

    function colorSquare(x, y) {
      alert(`Square at ${x},${y}`);
    }
  </script>
</body>
</html>

